\doxysection{em\+\_\+chip.\+h}
\hypertarget{em__chip_8h_source}{}\label{em__chip_8h_source}\index{gecko\_sdk\_4.4.4/platform/emlib/inc/em\_chip.h@{gecko\_sdk\_4.4.4/platform/emlib/inc/em\_chip.h}}
\mbox{\hyperlink{em__chip_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/***************************************************************************/}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#ifndef\ EM\_CHIP\_H}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#define\ EM\_CHIP\_H}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{em__device_8h}{em\_device.h}}"{}}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sl__common_8h}{sl\_common.h}}"{}}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#if\ defined(\_SILICON\_LABS\_32B\_SERIES)\ \&\&\ (\_SILICON\_LABS\_32B\_SERIES\ <=\ 2)}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{em__system_8h}{em\_system.h}}"{}}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{em__bus_8h}{em\_bus.h}}"{}}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#if\ defined(\_SILICON\_LABS\_GECKO\_INTERNAL\_SDID\_80)}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{em__gpio_8h}{em\_gpio.h}}"{}}}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00046\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ \{}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{comment}{/***************************************************************************/}}
\DoxyCodeLine{00057\ \textcolor{comment}{/**************************************************************************/}}
\DoxyCodeLine{00068\ \_\_STATIC\_INLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__chip_ga6491ac6b7e786d253753c334615bce61}{CHIP\_Init}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00069\ \{}
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#if\ defined(MSC\_CACHECMD\_INVCACHE)}}
\DoxyCodeLine{00071\ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga543ff1594e55db162ab50232e7db483e}{MSC}}-\/>CACHECMD\ =\ MSC\_CACHECMD\_INVCACHE;}
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\#elif\ defined(MSC\_CMD\_INVCACHE)}}
\DoxyCodeLine{00073\ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga543ff1594e55db162ab50232e7db483e}{MSC}}-\/>CMD\ =\ \mbox{\hyperlink{group___e_f_m32_g_g___m_s_c___bit_fields_ga4601bad2414609f65fb9f0c8dc46dc34}{MSC\_CMD\_INVCACHE}};}
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\#if\ defined(\_SILICON\_LABS\_32B\_SERIES\_0)\ \&\&\ defined(\_EFM32\_GECKO\_FAMILY)}}
\DoxyCodeLine{00077\ \ \ uint32\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rev;}
\DoxyCodeLine{00078\ \ \ \mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def}{SYSTEM\_ChipRevision\_TypeDef}}\ chipRev;}
\DoxyCodeLine{00079\ \ \ \textcolor{keyword}{volatile}\ uint32\_t\ \ \ \ \ \ \ \ \ \ \ *reg;}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ rev\ =\ *(\textcolor{keyword}{volatile}\ uint32\_t\ *)(0x0FE081FC);}
\DoxyCodeLine{00082\ \ \ \textcolor{comment}{/*\ Engineering\ Sample\ calibration\ setup.\ */}}
\DoxyCodeLine{00083\ \ \ \textcolor{keywordflow}{if}\ ((rev\ >>\ 24)\ ==\ 0)\ \{}
\DoxyCodeLine{00084\ \ \ \ \ reg\ \ \ =\ (\textcolor{keyword}{volatile}\ uint32\_t\ *)0x400CA00C;}
\DoxyCodeLine{00085\ \ \ \ \ *reg\ \&=\ \string~(0x70UL);}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{comment}{/*\ DREG\ */}}
\DoxyCodeLine{00087\ \ \ \ \ reg\ \ \ =\ (\textcolor{keyword}{volatile}\ uint32\_t\ *)0x400C6020;}
\DoxyCodeLine{00088\ \ \ \ \ *reg\ \&=\ \string~(0xE0000000UL);}
\DoxyCodeLine{00089\ \ \ \ \ *reg\ |=\ \string~(7UL\ <<\ 25);}
\DoxyCodeLine{00090\ \ \ \}}
\DoxyCodeLine{00091\ \ \ \textcolor{keywordflow}{if}\ ((rev\ >>\ 24)\ <=\ 3)\ \{}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{comment}{/*\ DREG\ */}}
\DoxyCodeLine{00093\ \ \ \ \ reg\ \ \ =\ (\textcolor{keyword}{volatile}\ uint32\_t\ *)0x400C6020;}
\DoxyCodeLine{00094\ \ \ \ \ *reg\ \&=\ \string~(0x00001F80UL);}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{comment}{/*\ Update\ CMU\ reset\ values.\ */}}
\DoxyCodeLine{00096\ \ \ \ \ reg\ \ =\ (\textcolor{keyword}{volatile}\ uint32\_t\ *)0x400C8040;}
\DoxyCodeLine{00097\ \ \ \ \ *reg\ =\ 0;}
\DoxyCodeLine{00098\ \ \ \ \ reg\ \ =\ (\textcolor{keyword}{volatile}\ uint32\_t\ *)0x400C8044;}
\DoxyCodeLine{00099\ \ \ \ \ *reg\ =\ 0;}
\DoxyCodeLine{00100\ \ \ \ \ reg\ \ =\ (\textcolor{keyword}{volatile}\ uint32\_t\ *)0x400C8058;}
\DoxyCodeLine{00101\ \ \ \ \ *reg\ =\ 0;}
\DoxyCodeLine{00102\ \ \ \ \ reg\ \ =\ (\textcolor{keyword}{volatile}\ uint32\_t\ *)0x400C8060;}
\DoxyCodeLine{00103\ \ \ \ \ *reg\ =\ 0;}
\DoxyCodeLine{00104\ \ \ \ \ reg\ \ =\ (\textcolor{keyword}{volatile}\ uint32\_t\ *)0x400C8078;}
\DoxyCodeLine{00105\ \ \ \ \ *reg\ =\ 0;}
\DoxyCodeLine{00106\ \ \ \}}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \mbox{\hyperlink{group__system_ga6470ed38937ffd0b8b509334c5add7dd}{SYSTEM\_ChipRevisionGet}}(\&chipRev);}
\DoxyCodeLine{00109\ \ \ \textcolor{keywordflow}{if}\ (chipRev.\mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def_a79ebea0f9a0321ec622d9098afe5bdd1}{major}}\ ==\ 0x01)\ \{}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{comment}{/*\ Rev\ A\ errata\ handling\ for\ EM2/3.\ Must\ enable\ DMA\ clock\ to\ get\ EM2/3\ */}}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{comment}{/*\ to\ work.\ This\ will\ be\ fixed\ in\ later\ chip\ revisions\ and\ is\ only\ needed\ for\ rev\ A.\ */}}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordflow}{if}\ (chipRev.\mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def_a4c191c69987d7029a7f2ec9510a99898}{minor}}\ ==\ 00)\ \{}
\DoxyCodeLine{00113\ \ \ \ \ \ \ reg\ \ \ =\ (\textcolor{keyword}{volatile}\ uint32\_t\ *)0x400C8040;}
\DoxyCodeLine{00114\ \ \ \ \ \ \ *reg\ |=\ 0x2;}
\DoxyCodeLine{00115\ \ \ \ \ \}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{comment}{/*\ Rev\ A+B\ errata\ handling\ for\ I2C\ when\ using\ EM2/3.\ USART0\ clock\ must\ be\ enabled\ */}}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{comment}{/*\ after\ waking\ up\ from\ EM2/EM3\ to\ get\ I2C\ to\ work.\ This\ will\ be\ fixed\ in\ */}}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{comment}{/*\ later\ chip\ revisions\ and\ is\ only\ needed\ for\ rev\ A+B.\ */}}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordflow}{if}\ (chipRev.\mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def_a4c191c69987d7029a7f2ec9510a99898}{minor}}\ <=\ 0x01)\ \{}
\DoxyCodeLine{00121\ \ \ \ \ \ \ reg\ \ \ =\ (\textcolor{keyword}{volatile}\ uint32\_t\ *)0x400C8044;}
\DoxyCodeLine{00122\ \ \ \ \ \ \ *reg\ |=\ 0x1;}
\DoxyCodeLine{00123\ \ \ \ \ \}}
\DoxyCodeLine{00124\ \ \ \}}
\DoxyCodeLine{00125\ \ \ \textcolor{comment}{/*\ Ensure\ correct\ ADC/DAC\ calibration\ value.\ */}}
\DoxyCodeLine{00126\ \ \ rev\ =\ *(\textcolor{keyword}{volatile}\ uint32\_t\ *)0x0FE081F0;}
\DoxyCodeLine{00127\ \ \ \textcolor{keywordflow}{if}\ (rev\ <\ 0x4C8ABA00)\ \{}
\DoxyCodeLine{00128\ \ \ \ \ uint32\_t\ cal;}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{comment}{/*\ Enable\ ADC/DAC\ clocks.\ */}}
\DoxyCodeLine{00131\ \ \ \ \ reg\ \ \ =\ (\textcolor{keyword}{volatile}\ uint32\_t\ *)0x400C8044UL;}
\DoxyCodeLine{00132\ \ \ \ \ *reg\ |=\ (1\ <<\ 14\ |\ 1\ <<\ 11);}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{comment}{/*\ Retrive\ calibration\ values.\ */}}
\DoxyCodeLine{00135\ \ \ \ \ cal\ =\ ((*(\textcolor{keyword}{volatile}\ uint32\_t\ *)(0x0FE081B4UL)\ \&\ 0x00007F00UL)}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ >>\ 8)\ <<\ 24;}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \ \ cal\ |=\ ((*(\textcolor{keyword}{volatile}\ uint32\_t\ *)(0x0FE081B4UL)\ \&\ 0x0000007FUL)}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ >>\ 0)\ <<\ 16;}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \ \ cal\ |=\ ((*(\textcolor{keyword}{volatile}\ uint32\_t\ *)(0x0FE081B4UL)\ \&\ 0x00007F00UL)}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ >>\ 8)\ <<\ 8;}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \ \ cal\ |=\ ((*(\textcolor{keyword}{volatile}\ uint32\_t\ *)(0x0FE081B4UL)\ \&\ 0x0000007FUL)}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ >>\ 0)\ <<\ 0;}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{comment}{/*\ ADC0-\/>CAL\ =\ 1.25\ reference.\ */}}
\DoxyCodeLine{00148\ \ \ \ \ reg\ \ =\ (\textcolor{keyword}{volatile}\ uint32\_t\ *)0x40002034UL;}
\DoxyCodeLine{00149\ \ \ \ \ *reg\ =\ cal;}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{comment}{/*\ DAC0-\/>CAL\ =\ 1.25\ reference.\ */}}
\DoxyCodeLine{00152\ \ \ \ \ reg\ \ =\ (\textcolor{keyword}{volatile}\ uint32\_t\ *)(0x4000402CUL);}
\DoxyCodeLine{00153\ \ \ \ \ cal\ \ =\ *(\textcolor{keyword}{volatile}\ uint32\_t\ *)0x0FE081C8UL;}
\DoxyCodeLine{00154\ \ \ \ \ *reg\ =\ cal;}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{comment}{/*\ Turn\ off\ ADC/DAC\ clocks.\ */}}
\DoxyCodeLine{00157\ \ \ \ \ reg\ \ \ =\ (\textcolor{keyword}{volatile}\ uint32\_t\ *)0x400C8044UL;}
\DoxyCodeLine{00158\ \ \ \ \ *reg\ \&=\ \string~(1\ <<\ 14\ |\ 1\ <<\ 11);}
\DoxyCodeLine{00159\ \ \ \}}
\DoxyCodeLine{00160\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \textcolor{preprocessor}{\#if\ defined(\_SILICON\_LABS\_32B\_SERIES\_0)\ \&\&\ defined(\_EFM32\_GIANT\_FAMILY)}}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \textcolor{comment}{\ \ /****************************/}}
\DoxyCodeLine{00165\ \ \ \textcolor{comment}{/*\ Fix\ for\ errata\ CMU\_E113.\ */}}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ uint8\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prodRev;}
\DoxyCodeLine{00168\ \ \ \mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def}{SYSTEM\_ChipRevision\_TypeDef}}\ chipRev;}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ prodRev\ =\ \mbox{\hyperlink{group__system_gadf5314727789c23ad2929e4506876039}{SYSTEM\_GetProdRev}}();}
\DoxyCodeLine{00171\ \ \ \mbox{\hyperlink{group__system_ga6470ed38937ffd0b8b509334c5add7dd}{SYSTEM\_ChipRevisionGet}}(\&chipRev);}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00173\ \ \ \textcolor{comment}{//\ All\ Giant\ and\ Leopard\ parts\ except\ Leopard\ Rev\ E}}
\DoxyCodeLine{00174\ \ \ \textcolor{keywordflow}{if}\ ((prodRev\ >=\ 16)\ \&\&\ (chipRev.\mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def_a4c191c69987d7029a7f2ec9510a99898}{minor}}\ >=\ 3)}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \&\&\ !((chipRev.\mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def_a79ebea0f9a0321ec622d9098afe5bdd1}{major}}\ ==\ 2)\ \&\&\ (chipRev.\mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def_a4c191c69987d7029a7f2ec9510a99898}{minor}}\ ==\ 4)))\ \{}
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{comment}{/*\ This\ fixes\ an\ issue\ with\ the\ LFXO\ on\ high\ temperatures.\ */}}
\DoxyCodeLine{00177\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t*)0x400C80C0\ =}
\DoxyCodeLine{00178\ \ \ \ \ \ \ (*(\textcolor{keyword}{volatile}\ uint32\_t*)0x400C80C0\ \&\ \string~(1\ <<\ 6)\ )\ |\ (1\ <<\ 4);}
\DoxyCodeLine{00179\ \ \ \}}
\DoxyCodeLine{00180\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \textcolor{preprocessor}{\#if\ defined(\_SILICON\_LABS\_32B\_SERIES\_0)\ \&\&\ defined(\_EFM32\_HAPPY\_FAMILY)}}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \ \ uint8\_t\ prodRev;}
\DoxyCodeLine{00185\ \ \ prodRev\ =\ \mbox{\hyperlink{group__system_gadf5314727789c23ad2929e4506876039}{SYSTEM\_GetProdRev}}();}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \ \ \textcolor{keywordflow}{if}\ (prodRev\ <=\ 129)\ \{}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{comment}{/*\ This\ fixes\ a\ mistaken\ internal\ connection\ between\ PC0\ and\ PC4.\ */}}
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{comment}{/*\ This\ disables\ an\ internal\ pull-\/down\ on\ PC4.\ */}}
\DoxyCodeLine{00190\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t*)(0x400C6018)\ =\ (1\ <<\ 26)\ |\ (5\ <<\ 0);}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{comment}{/*\ This\ disables\ an\ internal\ LDO\ test\ signal\ driving\ PC4.\ */}}
\DoxyCodeLine{00192\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t*)(0x400C80E4)\ \&=\ \string~(1\ <<\ 24);}
\DoxyCodeLine{00193\ \ \ \}}
\DoxyCodeLine{00194\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \textcolor{preprocessor}{\#if\ defined(\_SILICON\_LABS\_GECKO\_INTERNAL\_SDID\_80)}}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \textcolor{comment}{\ \ /****************************}}
\DoxyCodeLine{00199\ \textcolor{comment}{\ \ \ *\ Fixes\ for\ errata\ GPIO\_E201\ (slewrate)\ and}}
\DoxyCodeLine{00200\ \textcolor{comment}{\ \ \ *\ HFXO\ high-\/temperature\ oscillator\ startup\ robustness\ fix.\ */}}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \ \ uint32\_t\ port;}
\DoxyCodeLine{00203\ \ \ uint32\_t\ clkEn;}
\DoxyCodeLine{00204\ \ \ uint8\_t\ prodRev;}
\DoxyCodeLine{00205\ \ \ \textcolor{keyword}{const}\ uint32\_t\ setVal\ \ \ =\ (0x5\ <<\ \_GPIO\_P\_CTRL\_SLEWRATEALT\_SHIFT)}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |\ (0x5\ <<\ \_GPIO\_P\_CTRL\_SLEWRATE\_SHIFT);}
\DoxyCodeLine{00207\ \ \ \textcolor{keyword}{const}\ uint32\_t\ resetVal\ =\ \mbox{\hyperlink{group___e_f_m32_g_g___g_p_i_o___bit_fields_gaf616736ce9780d2762e52da4a473eb88}{\_GPIO\_P\_CTRL\_RESETVALUE}}}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&\ \string~(\_GPIO\_P\_CTRL\_SLEWRATE\_MASK}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |\ \_GPIO\_P\_CTRL\_SLEWRATEALT\_MASK);}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ prodRev\ =\ \mbox{\hyperlink{group__system_gadf5314727789c23ad2929e4506876039}{SYSTEM\_GetProdRev}}();}
\DoxyCodeLine{00212\ \ \ \mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def}{SYSTEM\_ChipRevision\_TypeDef}}\ chipRev;}
\DoxyCodeLine{00213\ \ \ \mbox{\hyperlink{group__system_ga6470ed38937ffd0b8b509334c5add7dd}{SYSTEM\_ChipRevisionGet}}(\&chipRev);}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \ \ \textcolor{comment}{/*\ This\ errata\ is\ fixed\ in\ hardware\ from\ PRODREV\ 0x8F.\ */}}
\DoxyCodeLine{00216\ \ \ \textcolor{keywordflow}{if}\ (prodRev\ <\ 0x8F)\ \{}
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{comment}{/*\ Fixes\ for\ errata\ GPIO\_E201\ (slewrate).\ */}}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \ \ \ \ \textcolor{comment}{/*\ Save\ HFBUSCLK\ enable\ state\ and\ enable\ GPIO\ clock.\ */}}
\DoxyCodeLine{00220\ \ \ \ \ clkEn\ =\ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>HFBUSCLKEN0;}
\DoxyCodeLine{00221\ \ \ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>HFBUSCLKEN0\ =\ clkEn\ |\ CMU\_HFBUSCLKEN0\_GPIO;}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{comment}{/*\ Update\ slewrate.\ */}}
\DoxyCodeLine{00224\ \ \ \ \ \textcolor{keywordflow}{for}\ (port\ =\ 0;\ port\ <=\ GPIO\_PORT\_MAX;\ port++)\ \{}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga1037b18e2d226fe7d327d4a6f17a21c1}{GPIO}}-\/>P[port].CTRL\ =\ setVal\ |\ resetVal;}
\DoxyCodeLine{00226\ \ \ \ \ \}}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \ \ \ \ \textcolor{comment}{/*\ Restore\ HFBUSCLK\ enable\ state.\ */}}
\DoxyCodeLine{00229\ \ \ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>HFBUSCLKEN0\ =\ clkEn;}
\DoxyCodeLine{00230\ \ \ \}}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \ \ \textcolor{comment}{/*\ This\ errata\ is\ fixed\ in\ hardware\ from\ PRODREV\ 0x90.\ */}}
\DoxyCodeLine{00233\ \ \ \textcolor{keywordflow}{if}\ (prodRev\ <\ 0x90)\ \{}
\DoxyCodeLine{00234\ \ \ \ \ \textcolor{comment}{/*\ HFXO\ high-\/temperature\ oscillator\ startup\ robustness\ fix.\ */}}
\DoxyCodeLine{00235\ \ \ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>HFXOSTARTUPCTRL\ =}
\DoxyCodeLine{00236\ \ \ \ \ \ \ (\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>HFXOSTARTUPCTRL\ \&\ \string~\_CMU\_HFXOSTARTUPCTRL\_IBTRIMXOCORE\_MASK)}
\DoxyCodeLine{00237\ \ \ \ \ \ \ |\ (0x20\ <<\ \_CMU\_HFXOSTARTUPCTRL\_IBTRIMXOCORE\_SHIFT);}
\DoxyCodeLine{00238\ \ \ \}}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \ \ \textcolor{keywordflow}{if}\ (chipRev.\mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def_a79ebea0f9a0321ec622d9098afe5bdd1}{major}}\ ==\ 0x01)\ \{}
\DoxyCodeLine{00241\ \ \ \ \ \textcolor{comment}{/*\ Fix\ for\ errata\ EMU\_E210\ -\/\ Potential\ Power-\/Down\ When\ Entering\ EM2\ */}}
\DoxyCodeLine{00242\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t\ *)(\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___base_ga61fd6590fabeb9f46d757e426bef70b4}{EMU\_BASE}}\ +\ 0x164)\ |=\ 0x4;}
\DoxyCodeLine{00243\ \ \ \}}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \textcolor{comment}{\ \ /****************************}}
\DoxyCodeLine{00246\ \textcolor{comment}{\ \ \ *\ Fix\ for\ errata\ DCDC\_E206.}}
\DoxyCodeLine{00247\ \textcolor{comment}{\ \ \ *\ Disable\ bypass\ limit\ enabled\ temporarily\ in\ SystemInit()\ errata}}
\DoxyCodeLine{00248\ \textcolor{comment}{\ \ \ *\ workaround.\ */}}
\DoxyCodeLine{00249\ \ \ \mbox{\hyperlink{group__bus_gaf8574f14855448ecae32c5a9dd0c7164}{BUS\_RegBitWrite}}(\&\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga15d2c2b1e853b541f1d74797b62c8ac0}{EMU}}-\/>DCDCCLIMCTRL,\ \_EMU\_DCDCCLIMCTRL\_BYPLIMEN\_SHIFT,\ 0);}
\DoxyCodeLine{00250\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \textcolor{preprocessor}{\#if\ defined(\_SILICON\_LABS\_GECKO\_INTERNAL\_SDID\_84)}}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00254\ \ \ uint8\_t\ prodRev\ =\ \mbox{\hyperlink{group__system_gadf5314727789c23ad2929e4506876039}{SYSTEM\_GetProdRev}}();}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00256\ \ \ \textcolor{comment}{/*\ EM2\ current\ fixes\ for\ early\ samples.\ */}}
\DoxyCodeLine{00257\ \ \ \textcolor{keywordflow}{if}\ (prodRev\ ==\ 0U)\ \{}
\DoxyCodeLine{00258\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t\ *)(\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___base_ga61fd6590fabeb9f46d757e426bef70b4}{EMU\_BASE}}\ +\ 0x190UL)\ \ =\ 0x0000ADE8UL;}
\DoxyCodeLine{00259\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t\ *)(\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___base_ga61fd6590fabeb9f46d757e426bef70b4}{EMU\_BASE}}\ +\ 0x198UL)\ |=\ (0x1UL\ <<\ 2);}
\DoxyCodeLine{00260\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t\ *)(\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___base_ga61fd6590fabeb9f46d757e426bef70b4}{EMU\_BASE}}\ +\ 0x190UL)\ \ =\ 0x0;}
\DoxyCodeLine{00261\ \ \ \}}
\DoxyCodeLine{00262\ \ \ \textcolor{keywordflow}{if}\ (prodRev\ <\ 2U)\ \{}
\DoxyCodeLine{00263\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t\ *)(\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___base_ga61fd6590fabeb9f46d757e426bef70b4}{EMU\_BASE}}\ +\ 0x164UL)\ |=\ (0x1UL\ <<\ 13);}
\DoxyCodeLine{00264\ \ \ \}}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00266\ \ \ \textcolor{comment}{/*\ Set\ optimal\ LFRCOCTRL\ VREFUPDATE\ and\ enable\ duty\ cycling\ of\ VREF.\ */}}
\DoxyCodeLine{00267\ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>LFRCOCTRL\ =\ (\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>LFRCOCTRL\ \&\ \string~\_CMU\_LFRCOCTRL\_VREFUPDATE\_MASK)}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |\ CMU\_LFRCOCTRL\_VREFUPDATE\_64CYCLES}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |\ CMU\_LFRCOCTRL\_ENVREF;}
\DoxyCodeLine{00270\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \textcolor{preprocessor}{\#if\ defined(\_SILICON\_LABS\_32B\_SERIES\_1)\ \(\backslash\)}}
\DoxyCodeLine{00273\ \textcolor{preprocessor}{\ \ \&\&\ defined(\_EFR\_DEVICE)\ \&\&\ (\_SILICON\_LABS\_GECKO\_INTERNAL\_SDID\ >=\ 84)}}
\DoxyCodeLine{00274\ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga543ff1594e55db162ab50232e7db483e}{MSC}}-\/>CTRL\ |=\ 0x1UL\ <<\ 8;}
\DoxyCodeLine{00275\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00276\ }
\DoxyCodeLine{00277\ \textcolor{preprocessor}{\#if\ defined(\_SILICON\_LABS\_GECKO\_INTERNAL\_SDID\_89)}}
\DoxyCodeLine{00278\ \ \ \mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def}{SYSTEM\_ChipRevision\_TypeDef}}\ chipRev;}
\DoxyCodeLine{00279\ \ \ \mbox{\hyperlink{group__system_ga6470ed38937ffd0b8b509334c5add7dd}{SYSTEM\_ChipRevisionGet}}(\&chipRev);}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00281\ \ \ \textcolor{keywordflow}{if}\ ((chipRev.\mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def_a79ebea0f9a0321ec622d9098afe5bdd1}{major}}\ >\ 1)\ ||\ (chipRev.\mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def_a4c191c69987d7029a7f2ec9510a99898}{minor}}\ >=\ 3))\ \{}
\DoxyCodeLine{00282\ \ \ \ \ \textcolor{comment}{/*\ PLFRCO\ trim\ values\ */}}
\DoxyCodeLine{00283\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t\ *)(\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___base_ga2c124644784e7939e5f1c1bf917f4c8c}{CMU\_BASE}}\ +\ 0x28CUL)\ =\ 608;}
\DoxyCodeLine{00284\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t\ *)(\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___base_ga2c124644784e7939e5f1c1bf917f4c8c}{CMU\_BASE}}\ +\ 0x290UL)\ =\ 356250;}
\DoxyCodeLine{00285\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t\ *)(\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___base_ga2c124644784e7939e5f1c1bf917f4c8c}{CMU\_BASE}}\ +\ 0x2F0UL)\ =\ 0x04000118;}
\DoxyCodeLine{00286\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t\ *)(\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___base_ga2c124644784e7939e5f1c1bf917f4c8c}{CMU\_BASE}}\ +\ 0x2F8UL)\ =\ 0x08328400;}
\DoxyCodeLine{00287\ \ \ \}}
\DoxyCodeLine{00288\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00289\ }
\DoxyCodeLine{00290\ \textcolor{comment}{/*\ Charge\ redist\ setup\ (fixed\ value):\ LCD-\/>DBGCTRL.CHGRDSTSTR\ =\ 1\ (reset:\ 0).\ */}}
\DoxyCodeLine{00291\ \textcolor{preprocessor}{\#if\ defined(\_LCD\_DISPCTRL\_CHGRDST\_MASK)}}
\DoxyCodeLine{00292\ \textcolor{preprocessor}{\#if\ defined(\_SILICON\_LABS\_32B\_SERIES\_1)}}
\DoxyCodeLine{00293\ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>HFBUSCLKEN0\ |=\ CMU\_HFBUSCLKEN0\_LE;}
\DoxyCodeLine{00294\ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>LFACLKEN0\ \ \ |=\ \mbox{\hyperlink{group___e_f_m32_g_g___c_m_u___bit_fields_ga29fb9912cfbcb2fe183868c28cbfd539}{CMU\_LFACLKEN0\_LCD}};}
\DoxyCodeLine{00295\ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t\ *)(\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___base_ga017749aad23300240ef5ac4c3d5ca750}{LCD\_BASE}}\ +\ 0x034)\ |=\ (0x1UL\ <<\ 12);}
\DoxyCodeLine{00296\ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>LFACLKEN0\ \ \ \&=\ \string~CMU\_LFACLKEN0\_LCD;}
\DoxyCodeLine{00297\ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>HFBUSCLKEN0\ \&=\ \string~CMU\_HFBUSCLKEN0\_LE;}
\DoxyCodeLine{00298\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00299\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00300\ }
\DoxyCodeLine{00301\ \textcolor{preprocessor}{\#if\ defined(\_SILICON\_LABS\_32B\_SERIES\_1)\ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00302\ \textcolor{preprocessor}{\ \ \&\&\ !defined(\_SILICON\_LABS\_GECKO\_INTERNAL\_SDID\_80)\ \(\backslash\)}}
\DoxyCodeLine{00303\ \textcolor{preprocessor}{\ \ \&\&\ !defined(ERRATA\_FIX\_EMU\_E220\_DECBOD\_IGNORE)}}
\DoxyCodeLine{00304\ \ \ \textcolor{comment}{/*\ First\ part\ of\ the\ EMU\_E220\ DECBOD\ Errata\ fix.\ DECBOD\ Reset\ can\ occur}}
\DoxyCodeLine{00305\ \textcolor{comment}{\ \ \ *\ during\ voltage\ scaling\ after\ EM2/3\ wakeup.\ Second\ part\ is\ in\ em\_emu.c\ */}}
\DoxyCodeLine{00306\ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t\ *)(\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___base_ga61fd6590fabeb9f46d757e426bef70b4}{EMU\_BASE}}\ +\ 0x1A4)\ |=\ 0x1f\ <<\ 10;}
\DoxyCodeLine{00307\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00308\ }
\DoxyCodeLine{00309\ \textcolor{preprocessor}{\#if\ defined(\_SILICON\_LABS\_32B\_SERIES\_2\_CONFIG\_1)}}
\DoxyCodeLine{00310\ \ \ \mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def}{SYSTEM\_ChipRevision\_TypeDef}}\ chipRev;}
\DoxyCodeLine{00311\ \ \ \mbox{\hyperlink{group__system_ga6470ed38937ffd0b8b509334c5add7dd}{SYSTEM\_ChipRevisionGet}}(\&chipRev);}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \ \ \textcolor{keywordflow}{if}\ (chipRev.\mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def_a79ebea0f9a0321ec622d9098afe5bdd1}{major}}\ ==\ 0x01\ \&\&\ (HFXO0-\/>STATUS\ \&\ HFXO\_STATUS\_ENS)\ ==\ 0U)\ \{}
\DoxyCodeLine{00314\ \ \ \ \ \textcolor{comment}{/*\ Change\ HFXO\ default\ peak\ detector\ settings.\ */}}
\DoxyCodeLine{00315\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t*)(HFXO0\_BASE\ +\ 0x34U)\ =}
\DoxyCodeLine{00316\ \ \ \ \ \ \ (*(\textcolor{keyword}{volatile}\ uint32\_t*)(HFXO0\_BASE\ +\ 0x34U)\ \&\ 0xFF8000FFU)}
\DoxyCodeLine{00317\ \ \ \ \ \ \ |\ 0x00178500U;}
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{comment}{/*\ Change\ HFXO\ low\ power\ control\ settings.\ */}}
\DoxyCodeLine{00319\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t*)(HFXO0\_BASE\ +\ 0x30U)\ =}
\DoxyCodeLine{00320\ \ \ \ \ \ \ (*(\textcolor{keyword}{volatile}\ uint32\_t*)(HFXO0\_BASE\ +\ 0x30U)\ \&\ 0xFFFF0FFFU)}
\DoxyCodeLine{00321\ \ \ \ \ \ \ |\ 0x0000C000U;}
\DoxyCodeLine{00322\ \ \ \ \ \textcolor{comment}{/*\ Change\ default\ SQBUF\ bias\ current.\ */}}
\DoxyCodeLine{00323\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t*)(HFXO0\_BASE\ +\ 0x30U)\ |=\ 0x700;}
\DoxyCodeLine{00324\ \ \ \}}
\DoxyCodeLine{00325\ }
\DoxyCodeLine{00326\ \ \ \textcolor{keywordflow}{if}\ (chipRev.\mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def_a79ebea0f9a0321ec622d9098afe5bdd1}{major}}\ ==\ 0x01\ \&\&\ chipRev.\mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def_a4c191c69987d7029a7f2ec9510a99898}{minor}}\ ==\ 0x0)\ \{}
\DoxyCodeLine{00327\ \ \ \ \ \textcolor{comment}{/*\ Trigger\ RAM\ read\ for\ each\ RAM\ instance\ */}}
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{keyword}{volatile}\ uint32\_t\ *dmem\ =\ (\textcolor{keyword}{volatile}\ uint32\_t\ *)\ DMEM\_RAM0\_RAM\_MEM\_BASE;}
\DoxyCodeLine{00329\ \ \ \ \ \textcolor{keywordflow}{for}\ (uint32\_t\ i\ =\ 0U;\ i\ <\ DMEM\_NUM\_BANK;\ i++)\ \{}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \textcolor{comment}{//\ Force\ memory\ read}}
\DoxyCodeLine{00331\ \ \ \ \ \ \ *dmem;}
\DoxyCodeLine{00332\ \ \ \ \ \ \ dmem\ +=\ (DMEM\_BANK0\_SIZE\ /\ 4U);}
\DoxyCodeLine{00333\ \ \ \ \ \}}
\DoxyCodeLine{00334\ \ \ \}}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00336\ \ \ \textcolor{comment}{/*\ Set\ TRACE\ clock\ to\ intended\ reset\ value.\ */}}
\DoxyCodeLine{00337\ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>TRACECLKCTRL\ =\ (\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>TRACECLKCTRL\ \&\ \string~\_CMU\_TRACECLKCTRL\_CLKSEL\_MASK)}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |\ CMU\_TRACECLKCTRL\_CLKSEL\_HFRCOEM23;}
\DoxyCodeLine{00339\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \textcolor{preprocessor}{\#if\ defined(\_SILICON\_LABS\_GECKO\_INTERNAL\_SDID\_205)}}
\DoxyCodeLine{00342\ \textcolor{preprocessor}{\#if\ defined(SL\_TRUSTZONE\_SECURE)}}
\DoxyCodeLine{00343\ \textcolor{preprocessor}{\#define\ HFRCO\_CLK\_CFG\_CLR\_ADDR\ (0x40012020UL)}}
\DoxyCodeLine{00344\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00345\ \textcolor{preprocessor}{\#define\ HFRCO\_CLK\_CFG\_CLR\_ADDR\ (0x50012020UL)}}
\DoxyCodeLine{00346\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00347\ \textcolor{preprocessor}{\#define\ HFRCO\_CLK\_CFG\_CLKOUTDIS0\ (0x4UL)}}
\DoxyCodeLine{00348\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group__system_gadf5314727789c23ad2929e4506876039}{SYSTEM\_GetProdRev}}()\ ==\ 1)\ \{}
\DoxyCodeLine{00349\ \ \ \ \ \textcolor{keywordtype}{bool}\ hfrcoClkIsOff\ =\ (\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>CLKEN0\ \&\ CMU\_CLKEN0\_HFRCO0)\ ==\ 0;}
\DoxyCodeLine{00350\ \ \ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>CLKEN0\_SET\ =\ CMU\_CLKEN0\_HFRCO0;}
\DoxyCodeLine{00351\ \ \ \ \ \textcolor{comment}{/*\ Enable\ HFRCO\ CLKOUT0.\ */}}
\DoxyCodeLine{00352\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t*)(HFRCO\_CLK\_CFG\_CLR\_ADDR)\ =\ HFRCO\_CLK\_CFG\_CLKOUTDIS0;}
\DoxyCodeLine{00353\ \ \ \ \ \textcolor{keywordflow}{if}\ (hfrcoClkIsOff)\ \{}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>CLKEN0\_CLR\ =\ CMU\_CLKEN0\_HFRCO0;}
\DoxyCodeLine{00355\ \ \ \ \ \}}
\DoxyCodeLine{00356\ \ \ \}}
\DoxyCodeLine{00357\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00358\ }
\DoxyCodeLine{00359\ \textcolor{comment}{/*\ PM-\/3503\ */}}
\DoxyCodeLine{00360\ \textcolor{preprocessor}{\#if\ defined(\_SILICON\_LABS\_GECKO\_INTERNAL\_SDID\_210)}}
\DoxyCodeLine{00361\ \ \ \{}
\DoxyCodeLine{00362\ \ \ \ \ \textcolor{keywordtype}{bool}\ syscfgClkIsOff\ =\ ((\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>CLKEN0\ \&\ CMU\_CLKEN0\_SYSCFG)\ ==\ 0);}
\DoxyCodeLine{00363\ \ \ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>CLKEN0\_SET\ =\ CMU\_CLKEN0\_SYSCFG;}
\DoxyCodeLine{00364\ }
\DoxyCodeLine{00365\ \ \ \ \ \textcolor{keywordtype}{bool}\ dcdcClkIsOff\ =\ ((\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>CLKEN0\ \&\ CMU\_CLKEN0\_DCDC)\ ==\ 0);}
\DoxyCodeLine{00366\ \ \ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>CLKEN0\_SET\ =\ CMU\_CLKEN0\_DCDC;}
\DoxyCodeLine{00367\ }
\DoxyCodeLine{00368\ \ \ \ \ \textcolor{keywordtype}{bool}\ dcdcIsLock\ =\ ((DCDC-\/>LOCKSTATUS\ \&\ DCDC\_LOCKSTATUS\_LOCK\_LOCKED)\ !=\ 0);}
\DoxyCodeLine{00369\ \ \ \ \ DCDC-\/>LOCK\ =\ DCDC\_LOCK\_LOCKKEY\_UNLOCKKEY;}
\DoxyCodeLine{00370\ }
\DoxyCodeLine{00371\ \ \ \ \ \textcolor{keywordflow}{while}\ (DCDC-\/>SYNCBUSY\ \&\ DCDC\_SYNCBUSY\_CTRL)\ \{}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \textcolor{comment}{/*\ Wait\ for\ previous\ synchronization\ to\ finish\ */}}
\DoxyCodeLine{00373\ \ \ \ \ \}}
\DoxyCodeLine{00374\ }
\DoxyCodeLine{00375\ \ \ \ \ DCDC-\/>CTRL\_CLR\ =\ DCDC\_CTRL\_MODE;}
\DoxyCodeLine{00376\ \ \ \ \ \textcolor{keywordflow}{while}\ ((DCDC-\/>STATUS\ \&\ DCDC\_STATUS\_BYPSW)\ ==\ 0U)\ \{}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \textcolor{comment}{/*\ Wait\ for\ BYPASS\ switch\ enable.\ */}}
\DoxyCodeLine{00378\ \ \ \ \ \}}
\DoxyCodeLine{00379\ }
\DoxyCodeLine{00380\ \ \ \ \ \textcolor{keywordflow}{if}\ (dcdcIsLock)\ \{}
\DoxyCodeLine{00381\ \ \ \ \ \ \ DCDC-\/>LOCK\ =\ \string~DCDC\_LOCK\_LOCKKEY\_UNLOCKKEY;}
\DoxyCodeLine{00382\ \ \ \ \ \}}
\DoxyCodeLine{00383\ }
\DoxyCodeLine{00384\ \ \ \ \ \textcolor{keywordflow}{if}\ (dcdcClkIsOff)\ \{}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>CLKEN0\_CLR\ =\ CMU\_CLKEN0\_DCDC;}
\DoxyCodeLine{00386\ \ \ \ \ \}}
\DoxyCodeLine{00387\ }
\DoxyCodeLine{00388\ \ \ \ \ \textcolor{keywordflow}{if}\ (syscfgClkIsOff)\ \{}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>CLKEN0\_CLR\ =\ CMU\_CLKEN0\_SYSCFG;}
\DoxyCodeLine{00390\ \ \ \ \ \}}
\DoxyCodeLine{00391\ \ \ \}}
\DoxyCodeLine{00392\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00393\ }
\DoxyCodeLine{00394\ \textcolor{comment}{/*\ PM-\/5163\ */}}
\DoxyCodeLine{00395\ \textcolor{preprocessor}{\#if\ defined(\_SILICON\_LABS\_GECKO\_INTERNAL\_SDID\_215)\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00396\ \textcolor{preprocessor}{\ \ \&\&\ defined(\_SILICON\_LABS\_EFR32\_2G4HZ\_HP\_PA\_PRESENT)\ \(\backslash\)}}
\DoxyCodeLine{00397\ \textcolor{preprocessor}{\ \ \&\&\ (\_SILICON\_LABS\_EFR32\_2G4HZ\_HP\_PA\_MAX\_OUTPUT\_DBM\ ==\ 20)}}
\DoxyCodeLine{00398\ \ \ \mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def}{SYSTEM\_ChipRevision\_TypeDef}}\ chipRev;}
\DoxyCodeLine{00399\ \ \ \mbox{\hyperlink{group__system_ga6470ed38937ffd0b8b509334c5add7dd}{SYSTEM\_ChipRevisionGet}}(\&chipRev);}
\DoxyCodeLine{00400\ }
\DoxyCodeLine{00401\ \ \ \textcolor{keywordflow}{if}\ (chipRev.\mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def_a79ebea0f9a0321ec622d9098afe5bdd1}{major}}\ ==\ 0x01\ \&\&\ chipRev.\mbox{\hyperlink{struct_s_y_s_t_e_m___chip_revision___type_def_a4c191c69987d7029a7f2ec9510a99898}{minor}}\ ==\ 0x00)\ \{}
\DoxyCodeLine{00402\ \ \ \ \ \textcolor{keywordtype}{bool}\ hfxo0ClkIsOff\ =\ (\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>CLKEN0\ \&\ CMU\_CLKEN0\_HFXO0)\ ==\ 0;}
\DoxyCodeLine{00403\ \ \ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>CLKEN0\_SET\ =\ CMU\_CLKEN0\_HFXO0;}
\DoxyCodeLine{00404\ }
\DoxyCodeLine{00405\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t*)(HFXO0\_BASE\ +\ 0x0034UL)\ =}
\DoxyCodeLine{00406\ \ \ \ \ \ \ (*(\textcolor{keyword}{volatile}\ uint32\_t*)(HFXO0\_BASE\ +\ 0x0034UL)\ \&\ 0xE3FFFFFFUL)}
\DoxyCodeLine{00407\ \ \ \ \ \ \ |\ 0x0C000000UL;}
\DoxyCodeLine{00408\ }
\DoxyCodeLine{00409\ \ \ \ \ \textcolor{keywordflow}{if}\ (hfxo0ClkIsOff)\ \{}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga0ed1d26edfd19bbb92da3601b9804750}{CMU}}-\/>CLKEN0\_CLR\ =\ CMU\_CLKEN0\_HFXO0;}
\DoxyCodeLine{00411\ \ \ \ \ \}}
\DoxyCodeLine{00412\ \ \ \}}
\DoxyCodeLine{00413\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00414\ \}}
\DoxyCodeLine{00415\ }
\DoxyCodeLine{00416\ \textcolor{comment}{/**************************************************************************/}}
\DoxyCodeLine{00427\ \_\_STATIC\_INLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__chip_ga38162f44470a600111c419d50c2fdb5d}{CHIP\_Reset}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{00428\ \{}
\DoxyCodeLine{00429\ \textcolor{preprocessor}{\#if\ defined(\_EFR\_DEVICE)\ \&\&\ defined(\_SILICON\_LABS\_GECKO\_INTERNAL\_SDID\_80)}}
\DoxyCodeLine{00430\ \textcolor{comment}{\ \ /****************************}}
\DoxyCodeLine{00431\ \textcolor{comment}{\ \ \ *\ Workaround\ for\ errata\ DCDC\_E206.}}
\DoxyCodeLine{00432\ \textcolor{comment}{\ \ \ *\ Disable\ radio\ interference\ minimization\ features\ when\ resetting\ */}}
\DoxyCodeLine{00433\ }
\DoxyCodeLine{00434\ \ \ \textcolor{comment}{//\ Ensure\ access\ to\ EMU\ registers}}
\DoxyCodeLine{00435\ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga15d2c2b1e853b541f1d74797b62c8ac0}{EMU}}-\/>LOCK\ =\ \mbox{\hyperlink{group___e_f_m32_g_g___e_m_u___bit_fields_gab15970618edce7afd7a7bb2c1871e2d1}{EMU\_LOCK\_LOCKKEY\_UNLOCK}};}
\DoxyCodeLine{00436\ \ \ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga15d2c2b1e853b541f1d74797b62c8ac0}{EMU}}-\/>PWRLOCK\ =\ EMU\_PWRLOCK\_LOCKKEY\_LOCK;}
\DoxyCodeLine{00437\ }
\DoxyCodeLine{00438\ \ \ \textcolor{comment}{//\ No\ need\ to\ do\ anything\ if\ the\ DCDC\ is\ not\ powering\ DVDD}}
\DoxyCodeLine{00439\ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga15d2c2b1e853b541f1d74797b62c8ac0}{EMU}}-\/>PWRCFG\ \&\ \_EMU\_PWRCFG\_PWRCFG\_MASK)\ ==\ EMU\_PWRCFG\_PWRCFG\_DCDCTODVDD)\ \{}
\DoxyCodeLine{00440\ \ \ \ \ \textcolor{comment}{//\ Make\ sure\ radio\ cannot\ accidentally\ re-\/enable\ features}}
\DoxyCodeLine{00441\ \ \ \ \ *(\textcolor{keyword}{volatile}\ uint32\_t\ *)(0x40084040UL)\ =\ 0x1UL;}
\DoxyCodeLine{00442\ }
\DoxyCodeLine{00443\ \ \ \ \ \textcolor{comment}{//\ If\ DCDC\ is\ in\ use,\ disable\ features}}
\DoxyCodeLine{00444\ \ \ \ \ uint32\_t\ dcdcMode\ =\ \mbox{\hyperlink{group___e_f_m32_g_g990_f1024___peripheral___declaration_ga15d2c2b1e853b541f1d74797b62c8ac0}{EMU}}-\/>DCDCCTRL\ \&\ \_EMU\_DCDCCTRL\_DCDCMODE\_MASK;}
\DoxyCodeLine{00445\ \ \ \ \ \textcolor{keywordflow}{if}\ ((dcdcMode\ ==\ EMU\_DCDCCTRL\_DCDCMODE\_LOWNOISE)}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ ||\ (dcdcMode\ ==\ EMU\_DCDCCTRL\_DCDCMODE\_LOWPOWER))\ \{}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \mbox{\hyperlink{group__bus_gaf8574f14855448ecae32c5a9dd0c7164}{BUS\_RegBitWrite}}((\textcolor{keyword}{volatile}\ uint32\_t\ *)(0x400E3060UL),\ 28UL,\ 0);}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \mbox{\hyperlink{group__bus_gaf8574f14855448ecae32c5a9dd0c7164}{BUS\_RegBitWrite}}((\textcolor{keyword}{volatile}\ uint32\_t\ *)(0x400E3074UL),\ 0,\ 0);}
\DoxyCodeLine{00449\ \ \ \ \ \}}
\DoxyCodeLine{00450\ \ \ \}}
\DoxyCodeLine{00451\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00452\ }
\DoxyCodeLine{00453\ \ \ NVIC\_SystemReset();}
\DoxyCodeLine{00454\ \}}
\DoxyCodeLine{00455\ }
\DoxyCodeLine{00458\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00459\ \}}
\DoxyCodeLine{00460\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00461\ }
\DoxyCodeLine{00462\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ EM\_CHIP\_H\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
