<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BSzF - HF - Buranszki/Tamasy: DMADRV - DMA Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">BSzF - HF - Buranszki/Tamasy
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Topics</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">DMADRV - DMA Driver</div></div>
</div><!--header-->
<div class="contents">

<p>Direct Memory Access Driver.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Topics</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dmadrv__error__codes.html">Error Codes</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gab478bc82d26f7d79f11a63a3c90943ae" id="r_gab478bc82d26f7d79f11a63a3c90943ae"><td class="memItemLeft" align="right" valign="top">typedef bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab478bc82d26f7d79f11a63a3c90943ae">DMADRV_Callback_t</a>) (unsigned int channel, unsigned int sequenceNo, void *userParam)</td></tr>
<tr class="memdesc:gab478bc82d26f7d79f11a63a3c90943ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">DMADRV transfer completion callback function.  <br /></td></tr>
<tr class="separator:gab478bc82d26f7d79f11a63a3c90943ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab503e066820cd13fd612f4365d4d07b2" id="r_gab503e066820cd13fd612f4365d4d07b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab503e066820cd13fd612f4365d4d07b2">DMADRV_AllocateChannel</a> (unsigned int *channelId, void *capabilities)</td></tr>
<tr class="memdesc:gab503e066820cd13fd612f4365d4d07b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate (reserve) a DMA channel.  <br /></td></tr>
<tr class="separator:gab503e066820cd13fd612f4365d4d07b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga73633db63cfd99ba01a68b05c24094ec" id="r_ga73633db63cfd99ba01a68b05c24094ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga73633db63cfd99ba01a68b05c24094ec">DMADRV_DeInit</a> (void)</td></tr>
<tr class="memdesc:ga73633db63cfd99ba01a68b05c24094ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitialize DMADRV.  <br /></td></tr>
<tr class="separator:ga73633db63cfd99ba01a68b05c24094ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4453539f4d22aa650324685a9f197e3" id="r_gab4453539f4d22aa650324685a9f197e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab4453539f4d22aa650324685a9f197e3">DMADRV_FreeChannel</a> (unsigned int channelId)</td></tr>
<tr class="memdesc:gab4453539f4d22aa650324685a9f197e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free an allocated (reserved) DMA channel.  <br /></td></tr>
<tr class="separator:gab4453539f4d22aa650324685a9f197e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43d0052d81f16e72914f85248a8554b1" id="r_ga43d0052d81f16e72914f85248a8554b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga43d0052d81f16e72914f85248a8554b1">DMADRV_Init</a> (void)</td></tr>
<tr class="memdesc:ga43d0052d81f16e72914f85248a8554b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize DMADRV.  <br /></td></tr>
<tr class="separator:ga43d0052d81f16e72914f85248a8554b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab1506de1a628ac908b2f8fe93e370578" id="r_gab1506de1a628ac908b2f8fe93e370578"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab1506de1a628ac908b2f8fe93e370578">DMADRV_MemoryPeripheral</a> (unsigned int channelId, DMADRV_PeripheralSignal_t peripheralSignal, void *dst, void *src, bool srcInc, int len, DMADRV_DataSize_t size, <a class="el" href="#gab478bc82d26f7d79f11a63a3c90943ae">DMADRV_Callback_t</a> callback, void *cbUserParam)</td></tr>
<tr class="memdesc:gab1506de1a628ac908b2f8fe93e370578"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a memory to a peripheral DMA transfer.  <br /></td></tr>
<tr class="separator:gab1506de1a628ac908b2f8fe93e370578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef226beb40700660728baf2cb509a2c4" id="r_gaef226beb40700660728baf2cb509a2c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaef226beb40700660728baf2cb509a2c4">DMADRV_PeripheralMemory</a> (unsigned int channelId, DMADRV_PeripheralSignal_t peripheralSignal, void *dst, void *src, bool dstInc, int len, DMADRV_DataSize_t size, <a class="el" href="#gab478bc82d26f7d79f11a63a3c90943ae">DMADRV_Callback_t</a> callback, void *cbUserParam)</td></tr>
<tr class="memdesc:gaef226beb40700660728baf2cb509a2c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a peripheral to memory DMA transfer.  <br /></td></tr>
<tr class="separator:gaef226beb40700660728baf2cb509a2c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga887d429df9893aef3b421e2fdd8f8641" id="r_ga887d429df9893aef3b421e2fdd8f8641"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga887d429df9893aef3b421e2fdd8f8641">DMADRV_MemoryPeripheralPingPong</a> (unsigned int channelId, DMADRV_PeripheralSignal_t peripheralSignal, void *dst, void *src0, void *src1, bool srcInc, int len, DMADRV_DataSize_t size, <a class="el" href="#gab478bc82d26f7d79f11a63a3c90943ae">DMADRV_Callback_t</a> callback, void *cbUserParam)</td></tr>
<tr class="memdesc:ga887d429df9893aef3b421e2fdd8f8641"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a memory to a peripheral ping-pong DMA transfer.  <br /></td></tr>
<tr class="separator:ga887d429df9893aef3b421e2fdd8f8641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafcabf314184e7d8f82d2164365f36bef" id="r_gafcabf314184e7d8f82d2164365f36bef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafcabf314184e7d8f82d2164365f36bef">DMADRV_PeripheralMemoryPingPong</a> (unsigned int channelId, DMADRV_PeripheralSignal_t peripheralSignal, void *dst0, void *dst1, void *src, bool dstInc, int len, DMADRV_DataSize_t size, <a class="el" href="#gab478bc82d26f7d79f11a63a3c90943ae">DMADRV_Callback_t</a> callback, void *cbUserParam)</td></tr>
<tr class="memdesc:gafcabf314184e7d8f82d2164365f36bef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a peripheral to memory ping-pong DMA transfer.  <br /></td></tr>
<tr class="separator:gafcabf314184e7d8f82d2164365f36bef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f27a6cff5b646b0faf3eb070ea1393f" id="r_ga3f27a6cff5b646b0faf3eb070ea1393f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3f27a6cff5b646b0faf3eb070ea1393f">DMADRV_PauseTransfer</a> (unsigned int channelId)</td></tr>
<tr class="memdesc:ga3f27a6cff5b646b0faf3eb070ea1393f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause an ongoing DMA transfer.  <br /></td></tr>
<tr class="separator:ga3f27a6cff5b646b0faf3eb070ea1393f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ad4c5b5eff525183a726002afbce071" id="r_ga4ad4c5b5eff525183a726002afbce071"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4ad4c5b5eff525183a726002afbce071">DMADRV_ResumeTransfer</a> (unsigned int channelId)</td></tr>
<tr class="memdesc:ga4ad4c5b5eff525183a726002afbce071"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume an ongoing DMA transfer.  <br /></td></tr>
<tr class="separator:ga4ad4c5b5eff525183a726002afbce071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a04cb3aa30ec2fd955281f55538028d" id="r_ga3a04cb3aa30ec2fd955281f55538028d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3a04cb3aa30ec2fd955281f55538028d">DMADRV_StopTransfer</a> (unsigned int channelId)</td></tr>
<tr class="memdesc:ga3a04cb3aa30ec2fd955281f55538028d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop an ongoing DMA transfer.  <br /></td></tr>
<tr class="separator:ga3a04cb3aa30ec2fd955281f55538028d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a42965073322a9c2b1f8ebb8a67e846" id="r_ga1a42965073322a9c2b1f8ebb8a67e846"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1a42965073322a9c2b1f8ebb8a67e846">DMADRV_TransferActive</a> (unsigned int channelId, bool *active)</td></tr>
<tr class="memdesc:ga1a42965073322a9c2b1f8ebb8a67e846"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a transfer is running.  <br /></td></tr>
<tr class="separator:ga1a42965073322a9c2b1f8ebb8a67e846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6b5ec49230e4f15b78c31c57bfa3967" id="r_gae6b5ec49230e4f15b78c31c57bfa3967"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae6b5ec49230e4f15b78c31c57bfa3967">DMADRV_TransferCompletePending</a> (unsigned int channelId, bool *pending)</td></tr>
<tr class="memdesc:gae6b5ec49230e4f15b78c31c57bfa3967"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a transfer complete is pending.  <br /></td></tr>
<tr class="separator:gae6b5ec49230e4f15b78c31c57bfa3967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa46714c6a19608cff3058c386f1e4c03" id="r_gaa46714c6a19608cff3058c386f1e4c03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa46714c6a19608cff3058c386f1e4c03">DMADRV_TransferDone</a> (unsigned int channelId, bool *done)</td></tr>
<tr class="memdesc:gaa46714c6a19608cff3058c386f1e4c03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a transfer has completed.  <br /></td></tr>
<tr class="separator:gaa46714c6a19608cff3058c386f1e4c03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a253b47872d205a76b6f1b7b486194d" id="r_ga9a253b47872d205a76b6f1b7b486194d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9a253b47872d205a76b6f1b7b486194d">DMADRV_TransferRemainingCount</a> (unsigned int channelId, int *remaining)</td></tr>
<tr class="memdesc:ga9a253b47872d205a76b6f1b7b486194d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get number of items remaining in a transfer.  <br /></td></tr>
<tr class="separator:ga9a253b47872d205a76b6f1b7b486194d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga0fc5cf50e34b24c0883a6ef6dce0681c" id="r_ga0fc5cf50e34b24c0883a6ef6dce0681c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_d_m_a___d_e_s_c_r_i_p_t_o_r___type_def.html">DMA_DESCRIPTOR_TypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0fc5cf50e34b24c0883a6ef6dce0681c">dmaControlBlock</a> []</td></tr>
<tr class="memdesc:ga0fc5cf50e34b24c0883a6ef6dce0681c"><td class="mdescLeft">&#160;</td><td class="mdescRight">uDMA control block array.  <br /></td></tr>
<tr class="separator:ga0fc5cf50e34b24c0883a6ef6dce0681c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Direct Memory Access Driver. </p>
<p><br  />
 </p>
<h1><a class="anchor" id="dmadrv_intro"></a>
Introduction</h1>
<p>The DMADRV driver supports writing code using DMA which will work regardless of the type of the DMA controller on the underlying microcontroller. Additionally, DMA can be used in several modules that are completely unaware of each other. The driver does not preclude use of the native emlib API of the underlying DMA controller. On the contrary, it will often result in more efficient code and is necessary for complex DMA operations. The housekeeping functions of this driver are valuable even in this use-case.</p>
<p>The <a class="el" href="dmadrv_8c.html" title="DMADRV API implementation.">dmadrv.c</a> and <a class="el" href="dmadrv_8h.html" title="DMADRV API definition.">dmadrv.h</a> source files are in the emdrv/dmadrv folder.</p>
<dl class="section note"><dt>Note</dt><dd>DMA transfer completion callback functions are called from within the DMA interrupt handler.</dd></dl>
<p><br  />
 </p>
<h1><a class="anchor" id="dmadrv_conf"></a>
Configuration Options</h1>
<p>Some properties of the DMADRV driver are compile-time configurable. These properties are stored in a file named <a class="el" href="dmadrv__config_8h_source.html">dmadrv_config.h</a>. A template for this file, containing default values, is in the emdrv/config folder. Currently the configuration options are as follows: </p><ul>
<li>The interrupt priority of the DMA peripheral. </li>
<li>A number of DMA channels to support. </li>
<li>Use the native emlib API belonging to the underlying DMA hardware in combination with the DMADRV API.</li>
</ul>
<p>Both configuration options will help reduce the driver's RAM footprint.</p>
<p>To configure DMADRV, provide a custom configuration file. This is an example <a class="el" href="dmadrv__config_8h_source.html">dmadrv_config.h</a> file: </p><div class="fragment"><div class="line"><span class="preprocessor">#ifndef __SILICON_LABS_DMADRV_CONFIG_H__</span></div>
<div class="line"><span class="preprocessor">#define __SILICON_LABS_DMADRV_CONFIG_H__</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// DMADRV DMA interrupt priority configuration option.</span></div>
<div class="line">  <span class="comment">// Set DMA interrupt priority. Range is 0..7, 0 is the highest priority.</span></div>
<div class="line"><span class="preprocessor">#define EMDRV_DMADRV_DMA_IRQ_PRIORITY 4</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// DMADRV channel count configuration option.</span></div>
<div class="line">  <span class="comment">// A number of DMA channels to support. A lower DMA channel count will reduce</span></div>
<div class="line">  <span class="comment">// RAM footprint.</span></div>
<div class="line"><span class="preprocessor">#define EMDRV_DMADRV_DMA_CH_COUNT 4</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#endif</span></div>
</div><!-- fragment --><p><br  />
 </p>
<h1><a class="anchor" id="dmadrv_api"></a>
The API</h1>
<p>This section contains brief descriptions of the API functions. For more information about input and output parameters and return values, click on the hyperlinked function names. Most functions return an error code, <a class="el" href="group__dmadrv__error__codes.html#gac20848ba30d8793ad1344fc442aae4c4">ECODE_EMDRV_DMADRV_OK</a> is returned on success, see <a class="el" href="group__ecode.html">ECODE - Error Codes</a> and <a class="el" href="group__dmadrv__error__codes.html">Error Codes</a> for other error codes.</p>
<p>The application code must include <em><a class="el" href="dmadrv_8h.html" title="DMADRV API definition.">dmadrv.h</a></em> header file.</p>
<p><a class="el" href="#ga43d0052d81f16e72914f85248a8554b1">DMADRV_Init()</a>, <a class="el" href="#ga73633db63cfd99ba01a68b05c24094ec">DMADRV_DeInit()</a> <br  />
 These functions initialize or deinitialize the DMADRV driver. Typically, <a class="el" href="#ga43d0052d81f16e72914f85248a8554b1" title="Initialize DMADRV.">DMADRV_Init()</a> is called once in the startup code.</p>
<p><a class="el" href="#gab503e066820cd13fd612f4365d4d07b2">DMADRV_AllocateChannel()</a>, <a class="el" href="#gab4453539f4d22aa650324685a9f197e3">DMADRV_FreeChannel()</a> <br  />
 DMA channel reserve and release functions. It is recommended that application code check that <a class="el" href="#gab503e066820cd13fd612f4365d4d07b2" title="Allocate (reserve) a DMA channel.">DMADRV_AllocateChannel()</a> returns ECODE_EMDRV_DMADRV_OK before starting a DMA transfer.</p>
<p><a class="el" href="#gab1506de1a628ac908b2f8fe93e370578">DMADRV_MemoryPeripheral()</a> <br  />
 Start a DMA transfer from memory to a peripheral.</p>
<p><a class="el" href="#gaef226beb40700660728baf2cb509a2c4">DMADRV_PeripheralMemory()</a> <br  />
 Start a DMA transfer from a peripheral to memory.</p>
<p><a class="el" href="#ga887d429df9893aef3b421e2fdd8f8641">DMADRV_MemoryPeripheralPingPong()</a> <br  />
 Start a DMA ping-pong transfer from memory to a peripheral.</p>
<p><a class="el" href="#gafcabf314184e7d8f82d2164365f36bef">DMADRV_PeripheralMemoryPingPong()</a> <br  />
 Start a DMA ping-pong transfer from a peripheral to memory.</p>
<p>DMADRV_LdmaStartTransfer() <br  />
 Start a DMA transfer on an LDMA controller.</p>
<p><a class="el" href="#ga3a04cb3aa30ec2fd955281f55538028d">DMADRV_StopTransfer()</a> <br  />
 Stop an ongoing DMA transfer.</p>
<p><a class="el" href="#ga1a42965073322a9c2b1f8ebb8a67e846">DMADRV_TransferActive()</a> <br  />
 Check if a transfer is ongoing.</p>
<p><a class="el" href="#gae6b5ec49230e4f15b78c31c57bfa3967">DMADRV_TransferCompletePending()</a> <br  />
 Check if a transfer completion is pending.</p>
<p><a class="el" href="#gaa46714c6a19608cff3058c386f1e4c03">DMADRV_TransferDone()</a> <br  />
 Check if a transfer has completed.</p>
<p><a class="el" href="#ga9a253b47872d205a76b6f1b7b486194d">DMADRV_TransferRemainingCount()</a> <br  />
 Get number of items remaining in a transfer.</p>
<p><br  />
 </p>
<h1><a class="anchor" id="dmadrv_example"></a>
Example</h1>
<p>Transfer a text string to USART1. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="dmadrv_8h.html">dmadrv.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">char</span> str[] = <span class="stringliteral">&quot;Hello DMA !&quot;</span>;</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> channel;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">int</span> main( <span class="keywordtype">void</span> )</div>
<div class="line">  {</div>
<div class="line">  <span class="comment">// Initialize DMA.</span></div>
<div class="line">  <a class="code hl_function" href="#ga43d0052d81f16e72914f85248a8554b1">DMADRV_Init</a>();</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Request a DMA channel.</span></div>
<div class="line">  <a class="code hl_function" href="#gab503e066820cd13fd612f4365d4d07b2">DMADRV_AllocateChannel</a>( &amp;channel, NULL );</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Start the DMA transfer.</span></div>
<div class="line">  <a class="code hl_function" href="#gab1506de1a628ac908b2f8fe93e370578">DMADRV_MemoryPeripheral</a>( channel,</div>
<div class="line">                          dmadrvPeripheralSignal_USART1_TXBL,</div>
<div class="line">                          (<span class="keywordtype">void</span>*)&amp;(<a class="code hl_define" href="group___e_f_m32_g_g990_f1024___peripheral___declaration.html#ga92871691058ff7ccffd7635930cb08da">USART1</a>-&gt;TXDATA),</div>
<div class="line">                          str,</div>
<div class="line">                          <span class="keyword">true</span>,</div>
<div class="line">                          <span class="keyword">sizeof</span>( str ),</div>
<div class="line">                          dmadrvDataSize1,</div>
<div class="line">                          NULL,</div>
<div class="line">                          NULL );</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">  }</div>
<div class="ttc" id="admadrv_8h_html"><div class="ttname"><a href="dmadrv_8h.html">dmadrv.h</a></div><div class="ttdoc">DMADRV API definition.</div></div>
<div class="ttc" id="agroup___e_f_m32_g_g990_f1024___peripheral___declaration_html_ga92871691058ff7ccffd7635930cb08da"><div class="ttname"><a href="group___e_f_m32_g_g990_f1024___peripheral___declaration.html#ga92871691058ff7ccffd7635930cb08da">USART1</a></div><div class="ttdeci">#define USART1</div><div class="ttdef"><b>Definition</b> efm32gg990f1024.h:398</div></div>
<div class="ttc" id="agroup__dmadrv_html_ga43d0052d81f16e72914f85248a8554b1"><div class="ttname"><a href="#ga43d0052d81f16e72914f85248a8554b1">DMADRV_Init</a></div><div class="ttdeci">Ecode_t DMADRV_Init(void)</div><div class="ttdoc">Initialize DMADRV.</div><div class="ttdef"><b>Definition</b> dmadrv.c:268</div></div>
<div class="ttc" id="agroup__dmadrv_html_gab1506de1a628ac908b2f8fe93e370578"><div class="ttname"><a href="#gab1506de1a628ac908b2f8fe93e370578">DMADRV_MemoryPeripheral</a></div><div class="ttdeci">Ecode_t DMADRV_MemoryPeripheral(unsigned int channelId, DMADRV_PeripheralSignal_t peripheralSignal, void *dst, void *src, bool srcInc, int len, DMADRV_DataSize_t size, DMADRV_Callback_t callback, void *cbUserParam)</div><div class="ttdoc">Start a memory to a peripheral DMA transfer.</div><div class="ttdef"><b>Definition</b> dmadrv.c:438</div></div>
<div class="ttc" id="agroup__dmadrv_html_gab503e066820cd13fd612f4365d4d07b2"><div class="ttname"><a href="#gab503e066820cd13fd612f4365d4d07b2">DMADRV_AllocateChannel</a></div><div class="ttdeci">Ecode_t DMADRV_AllocateChannel(unsigned int *channelId, void *capabilities)</div><div class="ttdoc">Allocate (reserve) a DMA channel.</div><div class="ttdef"><b>Definition</b> dmadrv.c:136</div></div>
</div><!-- fragment --> <h2 class="groupheader">Typedef Documentation</h2>
<a id="gab478bc82d26f7d79f11a63a3c90943ae" name="gab478bc82d26f7d79f11a63a3c90943ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab478bc82d26f7d79f11a63a3c90943ae">&#9670;&#160;</a></span>DMADRV_Callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef bool(* DMADRV_Callback_t) (unsigned int channel, unsigned int sequenceNo, void *userParam)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DMADRV transfer completion callback function. </p>
<p>The callback function is called when a transfer is complete.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>The DMA channel number.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sequenceNo</td><td>The number of times the callback was called. Useful on long chains of linked transfers or on endless ping-pong type transfers.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">userParam</td><td>Optional user parameter supplied on DMA invocation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>When doing ping-pong transfers, return true to continue or false to stop transfers. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab503e066820cd13fd612f4365d4d07b2" name="gab503e066820cd13fd612f4365d4d07b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab503e066820cd13fd612f4365d4d07b2">&#9670;&#160;</a></span>DMADRV_AllocateChannel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> DMADRV_AllocateChannel </td>
          <td>(</td>
          <td class="paramtype">unsigned int *</td>          <td class="paramname"><span class="paramname"><em>channelId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>capabilities</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate (reserve) a DMA channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">channelId</td><td>The channel ID assigned by DMADRV.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">capabilities</td><td>Not used.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__dmadrv__error__codes.html#gac20848ba30d8793ad1344fc442aae4c4">ECODE_EMDRV_DMADRV_OK</a> on success. On failure, an appropriate DMADRV <a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> is returned. </dd></dl>

</div>
</div>
<a id="ga73633db63cfd99ba01a68b05c24094ec" name="ga73633db63cfd99ba01a68b05c24094ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga73633db63cfd99ba01a68b05c24094ec">&#9670;&#160;</a></span>DMADRV_DeInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> DMADRV_DeInit </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deinitialize DMADRV. </p>
<p>If DMA channels are not currently allocated, it will disable DMA hardware and mask associated interrupts.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__dmadrv__error__codes.html#gac20848ba30d8793ad1344fc442aae4c4">ECODE_EMDRV_DMADRV_OK</a> on success. On failure, an appropriate DMADRV <a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> is returned. </dd></dl>

</div>
</div>
<a id="gab4453539f4d22aa650324685a9f197e3" name="gab4453539f4d22aa650324685a9f197e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab4453539f4d22aa650324685a9f197e3">&#9670;&#160;</a></span>DMADRV_FreeChannel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> DMADRV_FreeChannel </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>channelId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free an allocated (reserved) DMA channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channelId</td><td>The channel ID to free.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__dmadrv__error__codes.html#gac20848ba30d8793ad1344fc442aae4c4">ECODE_EMDRV_DMADRV_OK</a> on success. On failure, an appropriate DMADRV <a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> is returned. </dd></dl>

</div>
</div>
<a id="ga43d0052d81f16e72914f85248a8554b1" name="ga43d0052d81f16e72914f85248a8554b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga43d0052d81f16e72914f85248a8554b1">&#9670;&#160;</a></span>DMADRV_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> DMADRV_Init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize DMADRV. </p>
<p>The DMA hardware is initialized.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__dmadrv__error__codes.html#gac20848ba30d8793ad1344fc442aae4c4">ECODE_EMDRV_DMADRV_OK</a> on success. On failure, an appropriate DMADRV <a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> is returned. </dd></dl>

</div>
</div>
<a id="gab1506de1a628ac908b2f8fe93e370578" name="gab1506de1a628ac908b2f8fe93e370578"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab1506de1a628ac908b2f8fe93e370578">&#9670;&#160;</a></span>DMADRV_MemoryPeripheral()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> DMADRV_MemoryPeripheral </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>channelId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DMADRV_PeripheralSignal_t</td>          <td class="paramname"><span class="paramname"><em>peripheralSignal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>dst</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>srcInc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DMADRV_DataSize_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#gab478bc82d26f7d79f11a63a3c90943ae">DMADRV_Callback_t</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cbUserParam</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a memory to a peripheral DMA transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channelId</td><td>The channel ID to use for the transfer.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">peripheralSignal</td><td>Selects which peripheral/peripheralsignal to use.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dst</td><td>A destination (peripheral register) memory address.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>A source memory address.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">srcInc</td><td>Set to true to enable source address increment (increments according to <em>size</em> parameter).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>A number of items (of <em>size</em> size) to transfer.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>An item size, byte, halfword or word.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>A function to call on DMA completion, use NULL if not needed.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cbUserParam</td><td>An optional user parameter to feed to the callback function. Use NULL if not needed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__dmadrv__error__codes.html#gac20848ba30d8793ad1344fc442aae4c4">ECODE_EMDRV_DMADRV_OK</a> on success. On failure, an appropriate DMADRV <a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> is returned. </dd></dl>

</div>
</div>
<a id="ga887d429df9893aef3b421e2fdd8f8641" name="ga887d429df9893aef3b421e2fdd8f8641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga887d429df9893aef3b421e2fdd8f8641">&#9670;&#160;</a></span>DMADRV_MemoryPeripheralPingPong()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> DMADRV_MemoryPeripheralPingPong </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>channelId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DMADRV_PeripheralSignal_t</td>          <td class="paramname"><span class="paramname"><em>peripheralSignal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>dst</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>src0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>src1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>srcInc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DMADRV_DataSize_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#gab478bc82d26f7d79f11a63a3c90943ae">DMADRV_Callback_t</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cbUserParam</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a memory to a peripheral ping-pong DMA transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channelId</td><td>The channel ID to use for the transfer.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">peripheralSignal</td><td>Selects which peripheral/peripheralsignal to use.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dst</td><td>A destination (peripheral register) memory address.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src0</td><td>A source memory address of the first (ping) buffer.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src1</td><td>A source memory address of the second (pong) buffer.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">srcInc</td><td>Set to true to enable source address increment (increments according to <em>size</em> parameter).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>A number of items (of <em>size</em> size) to transfer.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>An item size, byte, halfword or word.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>A function to call on DMA completion, use NULL if not needed.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cbUserParam</td><td>An optional user parameter to feed to the callback function. Use NULL if not needed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__dmadrv__error__codes.html#gac20848ba30d8793ad1344fc442aae4c4">ECODE_EMDRV_DMADRV_OK</a> on success. On failure, an appropriate DMADRV <a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> is returned. </dd></dl>

</div>
</div>
<a id="ga3f27a6cff5b646b0faf3eb070ea1393f" name="ga3f27a6cff5b646b0faf3eb070ea1393f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3f27a6cff5b646b0faf3eb070ea1393f">&#9670;&#160;</a></span>DMADRV_PauseTransfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> DMADRV_PauseTransfer </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>channelId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pause an ongoing DMA transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channelId</td><td>The channel ID of the transfer to pause.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__dmadrv__error__codes.html#gac20848ba30d8793ad1344fc442aae4c4">ECODE_EMDRV_DMADRV_OK</a> on success. On failure, an appropriate DMADRV <a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> is returned. </dd></dl>

</div>
</div>
<a id="gaef226beb40700660728baf2cb509a2c4" name="gaef226beb40700660728baf2cb509a2c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaef226beb40700660728baf2cb509a2c4">&#9670;&#160;</a></span>DMADRV_PeripheralMemory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> DMADRV_PeripheralMemory </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>channelId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DMADRV_PeripheralSignal_t</td>          <td class="paramname"><span class="paramname"><em>peripheralSignal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>dst</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>dstInc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DMADRV_DataSize_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#gab478bc82d26f7d79f11a63a3c90943ae">DMADRV_Callback_t</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cbUserParam</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a peripheral to memory DMA transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channelId</td><td>The channel ID to use for the transfer.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">peripheralSignal</td><td>Selects which peripheral/peripheralsignal to use.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dst</td><td>A destination memory address.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>A source memory (peripheral register) address.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dstInc</td><td>Set to true to enable destination address increment (increments according to <em>size</em> parameter).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>A number of items (of <em>size</em> size) to transfer.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>An item size, byte, halfword or word.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>A function to call on DMA completion, use NULL if not needed.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cbUserParam</td><td>An optional user parameter to feed to the callback function. Use NULL if not needed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__dmadrv__error__codes.html#gac20848ba30d8793ad1344fc442aae4c4">ECODE_EMDRV_DMADRV_OK</a> on success. On failure, an appropriate DMADRV <a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> is returned. </dd></dl>

</div>
</div>
<a id="gafcabf314184e7d8f82d2164365f36bef" name="gafcabf314184e7d8f82d2164365f36bef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafcabf314184e7d8f82d2164365f36bef">&#9670;&#160;</a></span>DMADRV_PeripheralMemoryPingPong()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> DMADRV_PeripheralMemoryPingPong </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>channelId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DMADRV_PeripheralSignal_t</td>          <td class="paramname"><span class="paramname"><em>peripheralSignal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>dst0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>dst1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>dstInc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DMADRV_DataSize_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#gab478bc82d26f7d79f11a63a3c90943ae">DMADRV_Callback_t</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cbUserParam</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a peripheral to memory ping-pong DMA transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channelId</td><td>The channel ID to use for the transfer.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">peripheralSignal</td><td>Selects which peripheral/peripheralsignal to use.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dst0</td><td>A destination memory address of the first (ping) buffer.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dst1</td><td>A destination memory address of the second (pong) buffer.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>A source memory (peripheral register) address.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dstInc</td><td>Set to true to enable destination address increment (increments according to <em>size</em> parameter).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>A number of items (of <em>size</em> size) to transfer.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>An item size, byte, halfword or word.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>A function to call on DMA completion, use NULL if not needed.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cbUserParam</td><td>An optional user parameter to feed to the callback function. Use NULL if not needed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__dmadrv__error__codes.html#gac20848ba30d8793ad1344fc442aae4c4">ECODE_EMDRV_DMADRV_OK</a> on success. On failure, an appropriate DMADRV <a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> is returned. </dd></dl>

</div>
</div>
<a id="ga4ad4c5b5eff525183a726002afbce071" name="ga4ad4c5b5eff525183a726002afbce071"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4ad4c5b5eff525183a726002afbce071">&#9670;&#160;</a></span>DMADRV_ResumeTransfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> DMADRV_ResumeTransfer </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>channelId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resume an ongoing DMA transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channelId</td><td>The channel ID of the transfer to resume.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__dmadrv__error__codes.html#gac20848ba30d8793ad1344fc442aae4c4">ECODE_EMDRV_DMADRV_OK</a> on success. On failure, an appropriate DMADRV <a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> is returned. </dd></dl>

</div>
</div>
<a id="ga3a04cb3aa30ec2fd955281f55538028d" name="ga3a04cb3aa30ec2fd955281f55538028d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3a04cb3aa30ec2fd955281f55538028d">&#9670;&#160;</a></span>DMADRV_StopTransfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> DMADRV_StopTransfer </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>channelId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop an ongoing DMA transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channelId</td><td>The channel ID of the transfer to stop.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__dmadrv__error__codes.html#gac20848ba30d8793ad1344fc442aae4c4">ECODE_EMDRV_DMADRV_OK</a> on success. On failure, an appropriate DMADRV <a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> is returned. </dd></dl>

</div>
</div>
<a id="ga1a42965073322a9c2b1f8ebb8a67e846" name="ga1a42965073322a9c2b1f8ebb8a67e846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a42965073322a9c2b1f8ebb8a67e846">&#9670;&#160;</a></span>DMADRV_TransferActive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> DMADRV_TransferActive </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>channelId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *</td>          <td class="paramname"><span class="paramname"><em>active</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a transfer is running. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channelId</td><td>The channel ID of the transfer to check.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">active</td><td>True if transfer is running, false otherwise.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__dmadrv__error__codes.html#gac20848ba30d8793ad1344fc442aae4c4">ECODE_EMDRV_DMADRV_OK</a> on success. On failure, an appropriate DMADRV <a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> is returned. </dd></dl>

</div>
</div>
<a id="gae6b5ec49230e4f15b78c31c57bfa3967" name="gae6b5ec49230e4f15b78c31c57bfa3967"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae6b5ec49230e4f15b78c31c57bfa3967">&#9670;&#160;</a></span>DMADRV_TransferCompletePending()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> DMADRV_TransferCompletePending </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>channelId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *</td>          <td class="paramname"><span class="paramname"><em>pending</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a transfer complete is pending. </p>
<p>Will check the channel interrupt flag. This assumes that the DMA is configured to give a completion interrupt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channelId</td><td>The channel ID of the transfer to check.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pending</td><td>True if a transfer complete is pending, false otherwise.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__dmadrv__error__codes.html#gac20848ba30d8793ad1344fc442aae4c4">ECODE_EMDRV_DMADRV_OK</a> on success. On failure, an appropriate DMADRV <a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> is returned. </dd></dl>

</div>
</div>
<a id="gaa46714c6a19608cff3058c386f1e4c03" name="gaa46714c6a19608cff3058c386f1e4c03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa46714c6a19608cff3058c386f1e4c03">&#9670;&#160;</a></span>DMADRV_TransferDone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> DMADRV_TransferDone </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>channelId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *</td>          <td class="paramname"><span class="paramname"><em>done</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a transfer has completed. </p>
<dl class="section note"><dt>Note</dt><dd>This function should be used in a polled environment. Will only work reliably for transfers NOT using the completion interrupt. On UDMA, it will only work on basic transfers on the primary channel.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channelId</td><td>The channel ID of the transfer to check.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">done</td><td>True if a transfer has completed, false otherwise.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__dmadrv__error__codes.html#gac20848ba30d8793ad1344fc442aae4c4">ECODE_EMDRV_DMADRV_OK</a> on success. On failure, an appropriate DMADRV <a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> is returned. </dd></dl>

</div>
</div>
<a id="ga9a253b47872d205a76b6f1b7b486194d" name="ga9a253b47872d205a76b6f1b7b486194d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a253b47872d205a76b6f1b7b486194d">&#9670;&#160;</a></span>DMADRV_TransferRemainingCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> DMADRV_TransferRemainingCount </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>channelId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>remaining</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get number of items remaining in a transfer. </p>
<dl class="section note"><dt>Note</dt><dd>This function does not take into account that a DMA transfer with a chain of linked transfers might be ongoing. It will only check the count for the current transfer. On UDMA, it will only work on the primary channel.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channelId</td><td>The channel ID of the transfer to check.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">remaining</td><td>A number of items remaining in the transfer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__dmadrv__error__codes.html#gac20848ba30d8793ad1344fc442aae4c4">ECODE_EMDRV_DMADRV_OK</a> on success. On failure, an appropriate DMADRV <a class="el" href="group__ecode.html#ga7bf5621660c5ba69ac4dd3044173d35c">Ecode_t</a> is returned. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga0fc5cf50e34b24c0883a6ef6dce0681c" name="ga0fc5cf50e34b24c0883a6ef6dce0681c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0fc5cf50e34b24c0883a6ef6dce0681c">&#9670;&#160;</a></span>dmaControlBlock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_d_m_a___d_e_s_c_r_i_p_t_o_r___type_def.html">DMA_DESCRIPTOR_TypeDef</a> dmaControlBlock[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>uDMA control block array. </p>
<p>Used with Series-0 only </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
